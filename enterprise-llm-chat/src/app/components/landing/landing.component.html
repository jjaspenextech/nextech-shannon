<div class="landing-container">
  <button mat-button class="shannon-button" 
    data-qa="shannon-button"
    (mouseenter)="toggleDashboard(true)" 
    (mouseleave)="toggleDashboard(false)">
    Shannon
  </button>
  <app-side-dashboard 
    [isOpen]="isDashboardOpen" 
    [class.active]="isDashboardOpen"
    (closePanel)="toggleDashboard(false)"
    (openPanel)="toggleDashboard(true)"
    data-qa="side-dashboard"
    >
  </app-side-dashboard>
  <div class="greeting-section">
    <h1>Good {{ getTimeOfDay() }}, {{ firstName }}</h1>
    <p class="subtitle">How can I help you today?</p>
  </div>

  <div class="chat-input-section">
    <textarea 
      #landingInput
      [(ngModel)]="userInput" 
      placeholder="Message..." 
      (keydown.enter)="$event.preventDefault(); onSubmit()"
      (input)="adjustTextareaHeight(landingInput)"
      rows="1"
      class="landing-input"
    ></textarea>
    <button (click)="onSubmit()" class="submit-button">
      <span class="material-icons">send</span>
    </button>
  </div>

  <div class="recent-conversations">
    <div *ngIf="isLoading" class="loading-spinner-container">
      <mat-spinner diameter="40" data-qa="conversation-loading-spinner"></mat-spinner>
    </div>

    <div *ngIf="!isLoading">
      <h2 *ngIf="recentConversations.length > 0">Recent Conversations</h2>
      <div class="conversation-grid">
        <div 
          *ngFor="let conversation of recentConversations" 
          class="conversation-card"
          data-qa="conversation-card"
          (click)="conversation.conversation_id && onConversationClick(conversation.conversation_id)"
        >
          <h3>{{ conversation.description || 'Untitled Conversation' }}</h3>
          <p *ngIf="conversation.messages && conversation.messages.length > 0">{{ conversation.messages[0].content?.substring(0, 100) || '' }}...</p>
        </div>
      </div>
    </div>
  </div>
</div> 